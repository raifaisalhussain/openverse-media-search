2025-04-21T19:20:58.659+01:00  INFO 11400 --- [openverse-media-search] [main] c.m.controller.MediaControllerTest       : Starting MediaControllerTest using Java 21.0.6 with PID 11400 (started by MT in D:\MS\Software Engineering\openverse-media-search)
2025-04-21T19:20:58.663+01:00 DEBUG 11400 --- [openverse-media-search] [main] c.m.controller.MediaControllerTest       : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-21T19:20:58.663+01:00  INFO 11400 --- [openverse-media-search] [main] c.m.controller.MediaControllerTest       : No active profile set, falling back to 1 default profile: "default"
2025-04-21T19:21:02.167+01:00 DEBUG 11400 --- [openverse-media-search] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-04-21T19:21:02.317+01:00 DEBUG 11400 --- [openverse-media-search] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-04-21T19:21:02.980+01:00  INFO 11400 --- [openverse-media-search] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-04-21T19:21:02.980+01:00  INFO 11400 --- [openverse-media-search] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-04-21T19:21:02.980+01:00  INFO 11400 --- [openverse-media-search] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-04-21T19:21:03.036+01:00  INFO 11400 --- [openverse-media-search] [main] c.m.controller.MediaControllerTest       : Started MediaControllerTest in 4.951 seconds (process running for 6.366)
2025-04-21T19:21:03.171+01:00 DEBUG 11400 --- [openverse-media-search] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-04-21T19:21:03.171+01:00 DEBUG 11400 --- [openverse-media-search] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=testuser, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@21688427]
2025-04-21T19:21:03.185+01:00 DEBUG 11400 --- [openverse-media-search] [main] o.s.security.web.FilterChainProxy        : Securing GET /api/media/search
2025-04-21T19:21:03.201+01:00 DEBUG 11400 --- [openverse-media-search] [main] o.s.security.web.FilterChainProxy        : Secured GET /api/media/search
2025-04-21T19:21:03.239+01:00 DEBUG 11400 --- [openverse-media-search] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=testuser, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]
2025-04-21T19:21:03.251+01:00 DEBUG 11400 --- [openverse-media-search] [main] c.mediaapp.controller.MediaController    : Media search request received - query: nature, mediaType: null, license: null, source: null, page: 1, user: testuser
2025-04-21T19:21:03.444+01:00 DEBUG 11400 --- [openverse-media-search] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-04-21T19:21:03.444+01:00 DEBUG 11400 --- [openverse-media-search] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=testuser, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@6c8d8b60]
2025-04-21T19:21:03.444+01:00 DEBUG 11400 --- [openverse-media-search] [main] o.s.security.web.FilterChainProxy        : Securing GET /api/media/search
2025-04-21T19:21:03.444+01:00 DEBUG 11400 --- [openverse-media-search] [main] o.s.security.web.FilterChainProxy        : Secured GET /api/media/search
2025-04-21T19:21:03.454+01:00  WARN 11400 --- [openverse-media-search] [main] c.m.exception.GlobalExceptionHandler     : Missing request parameter: Query parameter is missing
2025-04-21T19:21:03.456+01:00 DEBUG 11400 --- [openverse-media-search] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=testuser, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]
2025-04-21T19:21:03.478+01:00 DEBUG 11400 --- [openverse-media-search] [main] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-04-21T19:21:03.478+01:00 DEBUG 11400 --- [openverse-media-search] [main] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=testuser, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@1826475]
2025-04-21T19:21:03.478+01:00 DEBUG 11400 --- [openverse-media-search] [main] o.s.security.web.FilterChainProxy        : Securing GET /api/media/search
2025-04-21T19:21:03.478+01:00 DEBUG 11400 --- [openverse-media-search] [main] o.s.security.web.FilterChainProxy        : Secured GET /api/media/search
2025-04-21T19:21:03.478+01:00 DEBUG 11400 --- [openverse-media-search] [main] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=testuser, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]
2025-04-21T19:21:03.478+01:00 DEBUG 11400 --- [openverse-media-search] [main] c.mediaapp.controller.MediaController    : Media search request received - query: unknown, mediaType: null, license: null, source: null, page: 1, user: testuser
