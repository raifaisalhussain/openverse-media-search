2025-04-02T00:01:14.040+01:00  WARN 20596 --- [openverse-media-search] [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h1m44s305ms878Âµs300ns).
2025-04-02T00:01:32.107+01:00  INFO 20596 --- [openverse-media-search] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-02T00:01:32.121+01:00  INFO 20596 --- [openverse-media-search] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-02T00:01:32.137+01:00  INFO 20596 --- [openverse-media-search] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-02T00:01:32.148+01:00  INFO 20596 --- [openverse-media-search] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-02T00:01:32.154+01:00  INFO 20596 --- [openverse-media-search] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-02T00:14:02.836+01:00  INFO 8472 --- [openverse-media-search] [main] com.mediaapp.MediaAppApplication         : Starting MediaAppApplication using Java 21.0.6 with PID 8472 (D:\MS\Software Engineering\openverse-media-search\target\classes started by MT in D:\MS\Software Engineering\openverse-media-search)
2025-04-02T00:14:02.839+01:00 DEBUG 8472 --- [openverse-media-search] [main] com.mediaapp.MediaAppApplication         : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-02T00:14:02.840+01:00  INFO 8472 --- [openverse-media-search] [main] com.mediaapp.MediaAppApplication         : No active profile set, falling back to 1 default profile: "default"
2025-04-02T00:14:04.486+01:00  INFO 8472 --- [openverse-media-search] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-02T00:14:04.568+01:00  INFO 8472 --- [openverse-media-search] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 70 ms. Found 2 JPA repository interfaces.
2025-04-02T00:14:05.571+01:00  INFO 8472 --- [openverse-media-search] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-02T00:14:05.590+01:00  INFO 8472 --- [openverse-media-search] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-02T00:14:05.591+01:00  INFO 8472 --- [openverse-media-search] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-02T00:14:05.701+01:00  INFO 8472 --- [openverse-media-search] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-02T00:14:05.702+01:00  INFO 8472 --- [openverse-media-search] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2784 ms
2025-04-02T00:14:06.107+01:00  INFO 8472 --- [openverse-media-search] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-02T00:14:06.207+01:00  INFO 8472 --- [openverse-media-search] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-02T00:14:06.259+01:00  INFO 8472 --- [openverse-media-search] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-02T00:14:06.679+01:00  INFO 8472 --- [openverse-media-search] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-02T00:14:06.721+01:00  INFO 8472 --- [openverse-media-search] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-02T00:14:07.019+01:00  INFO 8472 --- [openverse-media-search] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@43ee1cf7
2025-04-02T00:14:07.022+01:00  INFO 8472 --- [openverse-media-search] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-02T00:14:07.132+01:00  INFO 8472 --- [openverse-media-search] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-02T00:14:08.807+01:00  INFO 8472 --- [openverse-media-search] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-02T00:14:09.086+01:00  INFO 8472 --- [openverse-media-search] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-02T00:14:09.611+01:00 DEBUG 8472 --- [openverse-media-search] [main] com.mediaapp.security.JWTFilter          : Filter 'JWTFilter' configured for use
2025-04-02T00:14:10.247+01:00  INFO 8472 --- [openverse-media-search] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-04-02T00:14:10.755+01:00  INFO 8472 --- [openverse-media-search] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 16 endpoints beneath base path '/actuator'
2025-04-02T00:14:10.848+01:00 DEBUG 8472 --- [openverse-media-search] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JWTFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-04-02T00:14:11.455+01:00  INFO 8472 --- [openverse-media-search] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-04-02T00:14:11.471+01:00  INFO 8472 --- [openverse-media-search] [main] com.mediaapp.MediaAppApplication         : Started MediaAppApplication in 9.526 seconds (process running for 11.012)
2025-04-02T00:14:11.947+01:00 DEBUG 8472 --- [openverse-media-search] [RMI TCP Connection(3)-192.168.0.117] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-04-02T00:14:11.948+01:00  INFO 8472 --- [openverse-media-search] [RMI TCP Connection(2)-192.168.0.117] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-02T00:14:11.948+01:00  INFO 8472 --- [openverse-media-search] [RMI TCP Connection(2)-192.168.0.117] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-02T00:14:11.950+01:00  INFO 8472 --- [openverse-media-search] [RMI TCP Connection(2)-192.168.0.117] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-04-02T00:14:11.953+01:00 DEBUG 8472 --- [openverse-media-search] [RMI TCP Connection(3)-192.168.0.117] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-04-02T00:22:00.352+01:00 DEBUG 8472 --- [openverse-media-search] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/register
2025-04-02T00:22:00.409+01:00 DEBUG 8472 --- [openverse-media-search] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/register
2025-04-02T00:22:00.646+01:00 DEBUG 8472 --- [openverse-media-search] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T00:22:00.739+01:00 DEBUG 8472 --- [openverse-media-search] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/register
2025-04-02T00:22:00.808+01:00 DEBUG 8472 --- [openverse-media-search] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T00:22:00.980+01:00 DEBUG 8472 --- [openverse-media-search] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        users
        (password, role, username) 
    values
        (?, ?, ?)
2025-04-02T00:36:42.844+01:00 DEBUG 8472 --- [openverse-media-search] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2025-04-02T00:36:42.856+01:00 DEBUG 8472 --- [openverse-media-search] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-04-02T00:36:42.860+01:00 DEBUG 8472 --- [openverse-media-search] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-02T00:36:42.862+01:00 DEBUG 8472 --- [openverse-media-search] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-04-02T00:36:42.975+01:00 DEBUG 8472 --- [openverse-media-search] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T00:36:43.088+01:00 DEBUG 8472 --- [openverse-media-search] [http-nio-8080-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-04-02T00:36:43.090+01:00 DEBUG 8472 --- [openverse-media-search] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T00:37:30.039+01:00 DEBUG 8472 --- [openverse-media-search] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/media/search?query=man&mediaType=&license=&source=&page=1
2025-04-02T00:37:30.040+01:00 DEBUG 8472 --- [openverse-media-search] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-02T00:37:30.041+01:00 DEBUG 8472 --- [openverse-media-search] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/media/search?query=man&mediaType=&license=&source=&page=1
2025-04-02T00:37:30.058+01:00  INFO 8472 --- [openverse-media-search] [http-nio-8080-exec-9] com.mediaapp.service.MediaService        : Calling Openverse: https://api.openverse.org/v1/images/?q=man&page=1
2025-04-02T07:32:32.243+01:00  WARN 8472 --- [openverse-media-search] [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=6h52m54s666ms351Âµs800ns).
2025-04-02T07:35:15.830+01:00 DEBUG 8472 --- [openverse-media-search] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/media/search?query=bridge&mediaType=&license=&source=&page=1
2025-04-02T07:35:15.832+01:00 DEBUG 8472 --- [openverse-media-search] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-02T07:35:15.834+01:00 DEBUG 8472 --- [openverse-media-search] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/media/search?query=bridge&mediaType=&license=&source=&page=1
2025-04-02T07:35:15.836+01:00  INFO 8472 --- [openverse-media-search] [http-nio-8080-exec-8] com.mediaapp.service.MediaService        : Calling Openverse: https://api.openverse.org/v1/images/?q=bridge&page=1
2025-04-02T07:36:10.312+01:00 DEBUG 8472 --- [openverse-media-search] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2025-04-02T07:36:10.317+01:00 DEBUG 8472 --- [openverse-media-search] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-04-02T07:36:10.330+01:00 DEBUG 8472 --- [openverse-media-search] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-02T07:36:10.330+01:00 DEBUG 8472 --- [openverse-media-search] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-04-02T07:36:10.330+01:00 DEBUG 8472 --- [openverse-media-search] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T07:36:10.425+01:00 DEBUG 8472 --- [openverse-media-search] [http-nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-04-02T07:36:10.437+01:00 DEBUG 8472 --- [openverse-media-search] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T07:36:19.841+01:00 DEBUG 8472 --- [openverse-media-search] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/media/search?query=bridge&mediaType=&license=&source=&page=1
2025-04-02T07:36:19.843+01:00 DEBUG 8472 --- [openverse-media-search] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-02T07:36:19.843+01:00 DEBUG 8472 --- [openverse-media-search] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/media/search?query=bridge&mediaType=&license=&source=&page=1
2025-04-02T07:36:19.843+01:00  INFO 8472 --- [openverse-media-search] [http-nio-8080-exec-6] com.mediaapp.service.MediaService        : Calling Openverse: https://api.openverse.org/v1/images/?q=bridge&page=1
2025-04-02T07:36:55.532+01:00  INFO 8472 --- [openverse-media-search] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-02T07:36:55.540+01:00  INFO 8472 --- [openverse-media-search] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-02T07:36:55.548+01:00  INFO 8472 --- [openverse-media-search] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-02T07:36:55.550+01:00  INFO 8472 --- [openverse-media-search] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-02T07:36:55.556+01:00  INFO 8472 --- [openverse-media-search] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-02T07:37:02.004+01:00  INFO 10228 --- [openverse-media-search] [main] com.mediaapp.MediaAppApplication         : Starting MediaAppApplication using Java 21.0.6 with PID 10228 (D:\MS\Software Engineering\openverse-media-search\target\classes started by MT in D:\MS\Software Engineering\openverse-media-search)
2025-04-02T07:37:02.006+01:00 DEBUG 10228 --- [openverse-media-search] [main] com.mediaapp.MediaAppApplication         : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-02T07:37:02.008+01:00  INFO 10228 --- [openverse-media-search] [main] com.mediaapp.MediaAppApplication         : No active profile set, falling back to 1 default profile: "default"
2025-04-02T07:37:03.106+01:00  INFO 10228 --- [openverse-media-search] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-02T07:37:03.161+01:00  INFO 10228 --- [openverse-media-search] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 55 ms. Found 2 JPA repository interfaces.
2025-04-02T07:37:03.939+01:00  INFO 10228 --- [openverse-media-search] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-02T07:37:03.955+01:00  INFO 10228 --- [openverse-media-search] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-02T07:37:03.955+01:00  INFO 10228 --- [openverse-media-search] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-02T07:37:04.035+01:00  INFO 10228 --- [openverse-media-search] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-02T07:37:04.035+01:00  INFO 10228 --- [openverse-media-search] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1979 ms
2025-04-02T07:37:04.353+01:00  INFO 10228 --- [openverse-media-search] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-02T07:37:04.401+01:00  INFO 10228 --- [openverse-media-search] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-02T07:37:04.433+01:00  INFO 10228 --- [openverse-media-search] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-02T07:37:04.719+01:00  INFO 10228 --- [openverse-media-search] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-02T07:37:04.751+01:00  INFO 10228 --- [openverse-media-search] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-02T07:37:04.987+01:00  INFO 10228 --- [openverse-media-search] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@25dad235
2025-04-02T07:37:04.987+01:00  INFO 10228 --- [openverse-media-search] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-02T07:37:05.067+01:00  INFO 10228 --- [openverse-media-search] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-02T07:37:06.154+01:00  INFO 10228 --- [openverse-media-search] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-02T07:37:06.319+01:00  INFO 10228 --- [openverse-media-search] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-02T07:37:06.730+01:00 DEBUG 10228 --- [openverse-media-search] [main] com.mediaapp.security.JWTFilter          : Filter 'JWTFilter' configured for use
2025-04-02T07:37:07.192+01:00  INFO 10228 --- [openverse-media-search] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-04-02T07:37:07.636+01:00  INFO 10228 --- [openverse-media-search] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 16 endpoints beneath base path '/actuator'
2025-04-02T07:37:07.700+01:00 DEBUG 10228 --- [openverse-media-search] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JWTFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-04-02T07:37:08.193+01:00  INFO 10228 --- [openverse-media-search] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-04-02T07:37:08.209+01:00  INFO 10228 --- [openverse-media-search] [main] com.mediaapp.MediaAppApplication         : Started MediaAppApplication in 6.761 seconds (process running for 7.691)
2025-04-02T07:37:08.533+01:00 DEBUG 10228 --- [openverse-media-search] [RMI TCP Connection(2)-172.20.10.2] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-04-02T07:37:08.533+01:00  INFO 10228 --- [openverse-media-search] [RMI TCP Connection(3)-172.20.10.2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-02T07:37:08.533+01:00  INFO 10228 --- [openverse-media-search] [RMI TCP Connection(3)-172.20.10.2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-02T07:37:08.533+01:00  INFO 10228 --- [openverse-media-search] [RMI TCP Connection(3)-172.20.10.2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-04-02T07:37:08.533+01:00 DEBUG 10228 --- [openverse-media-search] [RMI TCP Connection(2)-172.20.10.2] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-04-02T07:37:45.717+01:00 DEBUG 10228 --- [openverse-media-search] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/media/search?query=sky&mediaType=&license=&source=&page=1
2025-04-02T07:37:45.748+01:00 DEBUG 10228 --- [openverse-media-search] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-02T07:37:45.748+01:00 DEBUG 10228 --- [openverse-media-search] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/media/search?query=sky&mediaType=&license=&source=&page=1
2025-04-02T07:37:45.789+01:00  INFO 10228 --- [openverse-media-search] [http-nio-8080-exec-1] com.mediaapp.service.MediaService        : Calling Openverse: https://api.openverse.org/v1/images/?q=sky&page=1
2025-04-02T07:48:52.957+01:00  INFO 10228 --- [openverse-media-search] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-02T07:48:52.966+01:00  INFO 10228 --- [openverse-media-search] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-02T07:48:52.973+01:00  INFO 10228 --- [openverse-media-search] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-02T07:48:52.975+01:00  INFO 10228 --- [openverse-media-search] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-02T07:48:52.980+01:00  INFO 10228 --- [openverse-media-search] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-02T09:21:50.499+01:00  INFO 13640 --- [openverse-media-search] [main] com.mediaapp.MediaAppApplication         : Starting MediaAppApplication using Java 21.0.6 with PID 13640 (D:\MS\Software Engineering\openverse-media-search\target\classes started by MT in D:\MS\Software Engineering\openverse-media-search)
2025-04-02T09:21:50.502+01:00 DEBUG 13640 --- [openverse-media-search] [main] com.mediaapp.MediaAppApplication         : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-02T09:21:50.504+01:00  INFO 13640 --- [openverse-media-search] [main] com.mediaapp.MediaAppApplication         : No active profile set, falling back to 1 default profile: "default"
2025-04-02T09:21:51.825+01:00  INFO 13640 --- [openverse-media-search] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-02T09:21:51.905+01:00  INFO 13640 --- [openverse-media-search] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 66 ms. Found 2 JPA repository interfaces.
2025-04-02T09:21:52.976+01:00  INFO 13640 --- [openverse-media-search] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-02T09:21:52.994+01:00  INFO 13640 --- [openverse-media-search] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-02T09:21:52.995+01:00  INFO 13640 --- [openverse-media-search] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-02T09:21:53.089+01:00  INFO 13640 --- [openverse-media-search] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-02T09:21:53.090+01:00  INFO 13640 --- [openverse-media-search] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2511 ms
2025-04-02T09:21:53.488+01:00  INFO 13640 --- [openverse-media-search] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-02T09:21:53.584+01:00  INFO 13640 --- [openverse-media-search] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-02T09:21:53.646+01:00  INFO 13640 --- [openverse-media-search] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-02T09:21:54.299+01:00  INFO 13640 --- [openverse-media-search] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-02T09:21:54.360+01:00  INFO 13640 --- [openverse-media-search] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-02T09:21:54.643+01:00  INFO 13640 --- [openverse-media-search] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4bc21e34
2025-04-02T09:21:54.646+01:00  INFO 13640 --- [openverse-media-search] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-02T09:21:54.746+01:00  INFO 13640 --- [openverse-media-search] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-02T09:21:55.924+01:00  INFO 13640 --- [openverse-media-search] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-02T09:21:56.101+01:00  INFO 13640 --- [openverse-media-search] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-02T09:21:56.510+01:00 DEBUG 13640 --- [openverse-media-search] [main] com.mediaapp.security.JWTFilter          : Filter 'JWTFilter' configured for use
2025-04-02T09:21:57.149+01:00  INFO 13640 --- [openverse-media-search] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-04-02T09:21:57.666+01:00  INFO 13640 --- [openverse-media-search] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 16 endpoints beneath base path '/actuator'
2025-04-02T09:21:57.740+01:00 DEBUG 13640 --- [openverse-media-search] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JWTFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-04-02T09:21:58.272+01:00  INFO 13640 --- [openverse-media-search] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-04-02T09:21:58.285+01:00  INFO 13640 --- [openverse-media-search] [main] com.mediaapp.MediaAppApplication         : Started MediaAppApplication in 8.627 seconds (process running for 9.736)
2025-04-02T09:21:58.546+01:00 DEBUG 13640 --- [openverse-media-search] [RMI TCP Connection(3)-10.83.92.196] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-04-02T09:21:58.546+01:00  INFO 13640 --- [openverse-media-search] [RMI TCP Connection(2)-10.83.92.196] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-02T09:21:58.547+01:00  INFO 13640 --- [openverse-media-search] [RMI TCP Connection(2)-10.83.92.196] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-02T09:21:58.549+01:00  INFO 13640 --- [openverse-media-search] [RMI TCP Connection(2)-10.83.92.196] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-04-02T09:21:58.554+01:00 DEBUG 13640 --- [openverse-media-search] [RMI TCP Connection(3)-10.83.92.196] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-04-02T09:23:18.875+01:00 DEBUG 13640 --- [openverse-media-search] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/media/search?query=room&mediaType=&license=&source=&page=1
2025-04-02T09:23:18.923+01:00 DEBUG 13640 --- [openverse-media-search] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/media/search?query=room&mediaType=&license=&source=&page=1
2025-04-02T09:23:19.129+01:00 DEBUG 13640 --- [openverse-media-search] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T09:23:19.181+01:00 DEBUG 13640 --- [openverse-media-search] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/media/search?query=room&mediaType=&license=&source=&page=1
2025-04-02T09:23:19.212+01:00  INFO 13640 --- [openverse-media-search] [http-nio-8080-exec-4] c.mediaapp.controller.MediaController    : Authenticated request by: faisal
2025-04-02T09:23:19.214+01:00 DEBUG 13640 --- [openverse-media-search] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T09:23:19.231+01:00  INFO 13640 --- [openverse-media-search] [http-nio-8080-exec-4] com.mediaapp.service.MediaService        : Calling Openverse: https://api.openverse.org/v1/images/?q=room&page=1
2025-04-02T09:23:20.847+01:00  INFO 13640 --- [openverse-media-search] [http-nio-8080-exec-4] com.mediaapp.service.MediaService        : Saving search history for user: faisal
2025-04-02T09:23:20.889+01:00 DEBUG 13640 --- [openverse-media-search] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    insert 
    into
        search_history
        (search_query, timestamp, user_id) 
    values
        (?, ?, ?)
2025-04-02T09:25:10.985+01:00 DEBUG 13640 --- [openverse-media-search] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2025-04-02T09:25:10.996+01:00 DEBUG 13640 --- [openverse-media-search] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-04-02T09:25:11.001+01:00 DEBUG 13640 --- [openverse-media-search] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-02T09:25:11.006+01:00 DEBUG 13640 --- [openverse-media-search] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-04-02T09:25:11.146+01:00 DEBUG 13640 --- [openverse-media-search] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T09:25:11.236+01:00 DEBUG 13640 --- [openverse-media-search] [http-nio-8080-exec-10] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-04-02T09:25:11.238+01:00 DEBUG 13640 --- [openverse-media-search] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T09:32:13.545+01:00  INFO 13640 --- [openverse-media-search] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-02T09:32:13.556+01:00  INFO 13640 --- [openverse-media-search] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-02T09:32:13.567+01:00  INFO 13640 --- [openverse-media-search] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-02T09:32:13.571+01:00  INFO 13640 --- [openverse-media-search] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-02T09:32:13.587+01:00  INFO 13640 --- [openverse-media-search] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-02T09:32:21.992+01:00  INFO 14548 --- [openverse-media-search] [main] com.mediaapp.MediaAppApplication         : Starting MediaAppApplication using Java 21.0.6 with PID 14548 (D:\MS\Software Engineering\openverse-media-search\target\classes started by MT in D:\MS\Software Engineering\openverse-media-search)
2025-04-02T09:32:21.994+01:00 DEBUG 14548 --- [openverse-media-search] [main] com.mediaapp.MediaAppApplication         : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-02T09:32:21.996+01:00  INFO 14548 --- [openverse-media-search] [main] com.mediaapp.MediaAppApplication         : No active profile set, falling back to 1 default profile: "default"
2025-04-02T09:32:23.370+01:00  INFO 14548 --- [openverse-media-search] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-02T09:32:23.520+01:00  INFO 14548 --- [openverse-media-search] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 123 ms. Found 2 JPA repository interfaces.
2025-04-02T09:32:24.453+01:00  INFO 14548 --- [openverse-media-search] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-02T09:32:24.468+01:00  INFO 14548 --- [openverse-media-search] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-02T09:32:24.469+01:00  INFO 14548 --- [openverse-media-search] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-02T09:32:24.561+01:00  INFO 14548 --- [openverse-media-search] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-02T09:32:24.562+01:00  INFO 14548 --- [openverse-media-search] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2507 ms
2025-04-02T09:32:24.909+01:00  INFO 14548 --- [openverse-media-search] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-02T09:32:24.960+01:00  INFO 14548 --- [openverse-media-search] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-02T09:32:24.994+01:00  INFO 14548 --- [openverse-media-search] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-02T09:32:25.290+01:00  INFO 14548 --- [openverse-media-search] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-02T09:32:25.319+01:00  INFO 14548 --- [openverse-media-search] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-02T09:32:25.549+01:00  INFO 14548 --- [openverse-media-search] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@322ab6ce
2025-04-02T09:32:25.552+01:00  INFO 14548 --- [openverse-media-search] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-02T09:32:25.628+01:00  INFO 14548 --- [openverse-media-search] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-02T09:32:27.791+01:00  INFO 14548 --- [openverse-media-search] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-02T09:32:28.072+01:00  INFO 14548 --- [openverse-media-search] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-02T09:32:28.517+01:00 DEBUG 14548 --- [openverse-media-search] [main] com.mediaapp.security.JWTFilter          : Filter 'JWTFilter' configured for use
2025-04-02T09:32:29.163+01:00  INFO 14548 --- [openverse-media-search] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-04-02T09:32:29.601+01:00  INFO 14548 --- [openverse-media-search] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 16 endpoints beneath base path '/actuator'
2025-04-02T09:32:29.674+01:00 DEBUG 14548 --- [openverse-media-search] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JWTFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-04-02T09:32:30.327+01:00  INFO 14548 --- [openverse-media-search] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-04-02T09:32:30.344+01:00  INFO 14548 --- [openverse-media-search] [main] com.mediaapp.MediaAppApplication         : Started MediaAppApplication in 8.999 seconds (process running for 10.034)
2025-04-02T09:32:30.846+01:00 DEBUG 14548 --- [openverse-media-search] [RMI TCP Connection(3)-10.83.92.196] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-04-02T09:32:30.846+01:00  INFO 14548 --- [openverse-media-search] [RMI TCP Connection(2)-10.83.92.196] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-02T09:32:30.847+01:00  INFO 14548 --- [openverse-media-search] [RMI TCP Connection(2)-10.83.92.196] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-02T09:32:30.850+01:00  INFO 14548 --- [openverse-media-search] [RMI TCP Connection(2)-10.83.92.196] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-04-02T09:32:30.852+01:00 DEBUG 14548 --- [openverse-media-search] [RMI TCP Connection(3)-10.83.92.196] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-04-02T09:32:44.704+01:00 DEBUG 14548 --- [openverse-media-search] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-04-02T09:32:44.736+01:00 DEBUG 14548 --- [openverse-media-search] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-02T09:32:44.741+01:00 DEBUG 14548 --- [openverse-media-search] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-04-02T09:32:45.041+01:00 DEBUG 14548 --- [openverse-media-search] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T09:32:45.158+01:00 DEBUG 14548 --- [openverse-media-search] [http-nio-8080-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-04-02T09:32:45.158+01:00 DEBUG 14548 --- [openverse-media-search] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T09:33:01.725+01:00 DEBUG 14548 --- [openverse-media-search] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/media/search?query=man&mediaType=&license=&source=&page=1
2025-04-02T09:33:01.736+01:00 DEBUG 14548 --- [openverse-media-search] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/media/search?query=man&mediaType=&license=&source=&page=1
2025-04-02T09:33:01.755+01:00 DEBUG 14548 --- [openverse-media-search] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T09:33:01.762+01:00 DEBUG 14548 --- [openverse-media-search] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/media/search?query=man&mediaType=&license=&source=&page=1
2025-04-02T09:33:01.773+01:00  INFO 14548 --- [openverse-media-search] [http-nio-8080-exec-2] c.mediaapp.controller.MediaController    : Authenticated request by: faisal
2025-04-02T09:33:01.773+01:00 DEBUG 14548 --- [openverse-media-search] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T09:33:01.783+01:00  INFO 14548 --- [openverse-media-search] [http-nio-8080-exec-2] com.mediaapp.service.MediaService        : Calling Openverse: https://api.openverse.org/v1/images/?q=man&page=1
2025-04-02T09:33:03.376+01:00  INFO 14548 --- [openverse-media-search] [http-nio-8080-exec-2] com.mediaapp.service.MediaService        : Saving search history for user: faisal
2025-04-02T09:33:03.406+01:00 DEBUG 14548 --- [openverse-media-search] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        search_history
        (search_query, timestamp, user_id) 
    values
        (?, ?, ?)
2025-04-02T09:39:33.126+01:00 DEBUG 14548 --- [openverse-media-search] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-04-02T09:39:33.128+01:00 DEBUG 14548 --- [openverse-media-search] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-02T09:39:33.128+01:00 DEBUG 14548 --- [openverse-media-search] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-04-02T09:39:33.130+01:00 DEBUG 14548 --- [openverse-media-search] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T09:39:33.246+01:00 DEBUG 14548 --- [openverse-media-search] [http-nio-8080-exec-7] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-04-02T09:39:33.246+01:00 DEBUG 14548 --- [openverse-media-search] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T09:40:29.158+01:00 DEBUG 14548 --- [openverse-media-search] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/history/user/faisal
2025-04-02T09:40:29.163+01:00 DEBUG 14548 --- [openverse-media-search] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T09:40:29.172+01:00 DEBUG 14548 --- [openverse-media-search] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/history/user/faisal
2025-04-02T09:40:29.172+01:00  INFO 14548 --- [openverse-media-search] [http-nio-8080-exec-8] c.mediaapp.service.SearchHistoryService  : Fetching search history for username: faisal
2025-04-02T09:40:29.176+01:00 DEBUG 14548 --- [openverse-media-search] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T09:40:29.180+01:00 DEBUG 14548 --- [openverse-media-search] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        sh1_0.id,
        sh1_0.search_query,
        sh1_0.timestamp,
        sh1_0.user_id 
    from
        search_history sh1_0 
    left join
        users u1_0 
            on u1_0.id=sh1_0.user_id 
    where
        u1_0.id=?
2025-04-02T09:40:29.196+01:00 DEBUG 14548 --- [openverse-media-search] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2025-04-02T09:45:42.880+01:00  INFO 14548 --- [openverse-media-search] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-02T09:45:42.892+01:00  INFO 14548 --- [openverse-media-search] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-02T09:45:42.901+01:00  INFO 14548 --- [openverse-media-search] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-02T09:45:42.903+01:00  INFO 14548 --- [openverse-media-search] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-02T09:45:42.909+01:00  INFO 14548 --- [openverse-media-search] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-02T09:45:55.472+01:00  INFO 20636 --- [openverse-media-search] [main] com.mediaapp.MediaAppApplication         : Starting MediaAppApplication using Java 21.0.6 with PID 20636 (D:\MS\Software Engineering\openverse-media-search\target\classes started by MT in D:\MS\Software Engineering\openverse-media-search)
2025-04-02T09:45:55.475+01:00 DEBUG 20636 --- [openverse-media-search] [main] com.mediaapp.MediaAppApplication         : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-02T09:45:55.476+01:00  INFO 20636 --- [openverse-media-search] [main] com.mediaapp.MediaAppApplication         : No active profile set, falling back to 1 default profile: "default"
2025-04-02T09:45:56.824+01:00  INFO 20636 --- [openverse-media-search] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-02T09:45:56.901+01:00  INFO 20636 --- [openverse-media-search] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 66 ms. Found 2 JPA repository interfaces.
2025-04-02T09:45:57.776+01:00  INFO 20636 --- [openverse-media-search] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-02T09:45:57.793+01:00  INFO 20636 --- [openverse-media-search] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-02T09:45:57.793+01:00  INFO 20636 --- [openverse-media-search] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-02T09:45:57.881+01:00  INFO 20636 --- [openverse-media-search] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-02T09:45:57.882+01:00  INFO 20636 --- [openverse-media-search] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2337 ms
2025-04-02T09:45:58.222+01:00  INFO 20636 --- [openverse-media-search] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-02T09:45:58.280+01:00  INFO 20636 --- [openverse-media-search] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-02T09:45:58.318+01:00  INFO 20636 --- [openverse-media-search] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-02T09:45:58.639+01:00  INFO 20636 --- [openverse-media-search] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-02T09:45:58.672+01:00  INFO 20636 --- [openverse-media-search] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-02T09:45:58.925+01:00  INFO 20636 --- [openverse-media-search] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@17a7d6c8
2025-04-02T09:45:58.927+01:00  INFO 20636 --- [openverse-media-search] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-02T09:45:59.006+01:00  INFO 20636 --- [openverse-media-search] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-02T09:46:00.369+01:00  INFO 20636 --- [openverse-media-search] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-02T09:46:00.574+01:00  INFO 20636 --- [openverse-media-search] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-02T09:46:01.094+01:00 DEBUG 20636 --- [openverse-media-search] [main] com.mediaapp.security.JWTFilter          : Filter 'JWTFilter' configured for use
2025-04-02T09:46:01.631+01:00  INFO 20636 --- [openverse-media-search] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-04-02T09:46:02.056+01:00  INFO 20636 --- [openverse-media-search] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 16 endpoints beneath base path '/actuator'
2025-04-02T09:46:02.141+01:00 DEBUG 20636 --- [openverse-media-search] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JWTFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-04-02T09:46:02.651+01:00  INFO 20636 --- [openverse-media-search] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-04-02T09:46:02.666+01:00  INFO 20636 --- [openverse-media-search] [main] com.mediaapp.MediaAppApplication         : Started MediaAppApplication in 7.925 seconds (process running for 9.044)
2025-04-02T09:46:03.134+01:00 DEBUG 20636 --- [openverse-media-search] [RMI TCP Connection(3)-10.83.92.196] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-04-02T09:46:03.134+01:00  INFO 20636 --- [openverse-media-search] [RMI TCP Connection(2)-10.83.92.196] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-02T09:46:03.134+01:00  INFO 20636 --- [openverse-media-search] [RMI TCP Connection(2)-10.83.92.196] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-02T09:46:03.136+01:00  INFO 20636 --- [openverse-media-search] [RMI TCP Connection(2)-10.83.92.196] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-04-02T09:46:03.139+01:00 DEBUG 20636 --- [openverse-media-search] [RMI TCP Connection(3)-10.83.92.196] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-04-02T09:46:55.288+01:00 DEBUG 20636 --- [openverse-media-search] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/media/search?query=fish&mediaType=&license=&source=&page=1
2025-04-02T09:46:55.329+01:00 DEBUG 20636 --- [openverse-media-search] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/media/search?query=fish&mediaType=&license=&source=&page=1
2025-04-02T09:46:55.504+01:00 DEBUG 20636 --- [openverse-media-search] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T09:46:55.548+01:00 DEBUG 20636 --- [openverse-media-search] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/media/search?query=fish&mediaType=&license=&source=&page=1
2025-04-02T09:46:55.574+01:00  INFO 20636 --- [openverse-media-search] [http-nio-8080-exec-2] c.mediaapp.controller.MediaController    : Authenticated request by: faisal
2025-04-02T09:46:55.576+01:00 DEBUG 20636 --- [openverse-media-search] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T09:46:55.586+01:00  INFO 20636 --- [openverse-media-search] [http-nio-8080-exec-2] com.mediaapp.service.MediaService        : Calling Openverse: https://api.openverse.org/v1/images/?q=fish&page=1
2025-04-02T09:46:56.796+01:00  INFO 20636 --- [openverse-media-search] [http-nio-8080-exec-2] com.mediaapp.service.MediaService        : Saving search history for user: faisal
2025-04-02T09:46:56.826+01:00 DEBUG 20636 --- [openverse-media-search] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        search_history
        (search_query, timestamp, user_id) 
    values
        (?, ?, ?)
2025-04-02T09:47:29.644+01:00 DEBUG 20636 --- [openverse-media-search] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-04-02T09:47:29.645+01:00 DEBUG 20636 --- [openverse-media-search] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-02T09:47:29.646+01:00 DEBUG 20636 --- [openverse-media-search] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-04-02T09:47:29.759+01:00 DEBUG 20636 --- [openverse-media-search] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T09:47:29.848+01:00 DEBUG 20636 --- [openverse-media-search] [http-nio-8080-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-04-02T09:47:29.849+01:00 DEBUG 20636 --- [openverse-media-search] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T09:47:52.147+01:00 DEBUG 20636 --- [openverse-media-search] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/history/user/faisal
2025-04-02T09:47:52.152+01:00 DEBUG 20636 --- [openverse-media-search] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T09:47:52.161+01:00 DEBUG 20636 --- [openverse-media-search] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/history/user/faisal
2025-04-02T09:47:52.163+01:00  INFO 20636 --- [openverse-media-search] [http-nio-8080-exec-5] c.mediaapp.service.SearchHistoryService  : Fetching search history for username: faisal
2025-04-02T09:47:52.164+01:00 DEBUG 20636 --- [openverse-media-search] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T09:47:52.171+01:00 DEBUG 20636 --- [openverse-media-search] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        sh1_0.id,
        sh1_0.search_query,
        sh1_0.timestamp,
        sh1_0.user_id 
    from
        search_history sh1_0 
    left join
        users u1_0 
            on u1_0.id=sh1_0.user_id 
    where
        u1_0.id=?
2025-04-02T09:47:52.181+01:00 DEBUG 20636 --- [openverse-media-search] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2025-04-02T09:50:25.103+01:00  INFO 20636 --- [openverse-media-search] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-02T09:50:25.112+01:00  INFO 20636 --- [openverse-media-search] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-02T09:50:25.121+01:00  INFO 20636 --- [openverse-media-search] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-02T09:50:25.123+01:00  INFO 20636 --- [openverse-media-search] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-02T09:50:25.128+01:00  INFO 20636 --- [openverse-media-search] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-02T09:50:34.665+01:00  INFO 26476 --- [openverse-media-search] [main] com.mediaapp.MediaAppApplication         : Starting MediaAppApplication using Java 21.0.6 with PID 26476 (D:\MS\Software Engineering\openverse-media-search\target\classes started by MT in D:\MS\Software Engineering\openverse-media-search)
2025-04-02T09:50:34.667+01:00 DEBUG 26476 --- [openverse-media-search] [main] com.mediaapp.MediaAppApplication         : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-02T09:50:34.669+01:00  INFO 26476 --- [openverse-media-search] [main] com.mediaapp.MediaAppApplication         : No active profile set, falling back to 1 default profile: "default"
2025-04-02T09:50:36.157+01:00  INFO 26476 --- [openverse-media-search] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-02T09:50:36.247+01:00  INFO 26476 --- [openverse-media-search] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 70 ms. Found 2 JPA repository interfaces.
2025-04-02T09:50:37.173+01:00  INFO 26476 --- [openverse-media-search] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-02T09:50:37.190+01:00  INFO 26476 --- [openverse-media-search] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-02T09:50:37.191+01:00  INFO 26476 --- [openverse-media-search] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-02T09:50:37.281+01:00  INFO 26476 --- [openverse-media-search] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-02T09:50:37.282+01:00  INFO 26476 --- [openverse-media-search] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2546 ms
2025-04-02T09:50:37.653+01:00  INFO 26476 --- [openverse-media-search] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-02T09:50:37.710+01:00  INFO 26476 --- [openverse-media-search] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-02T09:50:37.754+01:00  INFO 26476 --- [openverse-media-search] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-02T09:50:38.091+01:00  INFO 26476 --- [openverse-media-search] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-02T09:50:38.130+01:00  INFO 26476 --- [openverse-media-search] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-02T09:50:38.425+01:00  INFO 26476 --- [openverse-media-search] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@563c3aca
2025-04-02T09:50:38.428+01:00  INFO 26476 --- [openverse-media-search] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-02T09:50:38.520+01:00  INFO 26476 --- [openverse-media-search] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-02T09:50:39.999+01:00  INFO 26476 --- [openverse-media-search] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-02T09:50:40.256+01:00  INFO 26476 --- [openverse-media-search] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-02T09:50:40.826+01:00 DEBUG 26476 --- [openverse-media-search] [main] com.mediaapp.security.JWTFilter          : Filter 'JWTFilter' configured for use
2025-04-02T09:50:41.437+01:00  INFO 26476 --- [openverse-media-search] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-04-02T09:50:41.954+01:00  INFO 26476 --- [openverse-media-search] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 16 endpoints beneath base path '/actuator'
2025-04-02T09:50:42.082+01:00 DEBUG 26476 --- [openverse-media-search] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JWTFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-04-02T09:50:42.882+01:00  INFO 26476 --- [openverse-media-search] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-04-02T09:50:42.901+01:00  INFO 26476 --- [openverse-media-search] [main] com.mediaapp.MediaAppApplication         : Started MediaAppApplication in 8.957 seconds (process running for 10.053)
2025-04-02T09:50:43.653+01:00 DEBUG 26476 --- [openverse-media-search] [RMI TCP Connection(4)-10.83.92.196] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-04-02T09:50:43.659+01:00  INFO 26476 --- [openverse-media-search] [RMI TCP Connection(3)-10.83.92.196] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-02T09:50:43.659+01:00  INFO 26476 --- [openverse-media-search] [RMI TCP Connection(3)-10.83.92.196] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-02T09:50:43.662+01:00 DEBUG 26476 --- [openverse-media-search] [RMI TCP Connection(4)-10.83.92.196] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-04-02T09:50:43.663+01:00  INFO 26476 --- [openverse-media-search] [RMI TCP Connection(3)-10.83.92.196] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-04-02T09:51:21.072+01:00 DEBUG 26476 --- [openverse-media-search] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/media/search?query=laptop&mediaType=&license=&source=&page=1
2025-04-02T09:51:21.111+01:00 DEBUG 26476 --- [openverse-media-search] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/media/search?query=laptop&mediaType=&license=&source=&page=1
2025-04-02T09:51:21.283+01:00 DEBUG 26476 --- [openverse-media-search] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T09:51:21.341+01:00 DEBUG 26476 --- [openverse-media-search] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/media/search?query=laptop&mediaType=&license=&source=&page=1
2025-04-02T09:51:21.369+01:00  INFO 26476 --- [openverse-media-search] [http-nio-8080-exec-2] c.mediaapp.controller.MediaController    : Authenticated request by: faisal
2025-04-02T09:51:21.370+01:00 DEBUG 26476 --- [openverse-media-search] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T09:51:21.382+01:00  INFO 26476 --- [openverse-media-search] [http-nio-8080-exec-2] com.mediaapp.service.MediaService        : Calling Openverse: https://api.openverse.org/v1/images/?q=laptop&page=1
2025-04-02T09:51:22.460+01:00  INFO 26476 --- [openverse-media-search] [http-nio-8080-exec-2] com.mediaapp.service.MediaService        : Saving search history for user: faisal
2025-04-02T09:51:22.491+01:00 DEBUG 26476 --- [openverse-media-search] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        search_history
        (search_query, timestamp, user_id) 
    values
        (?, ?, ?)
2025-04-02T09:52:46.354+01:00 DEBUG 26476 --- [openverse-media-search] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/media/search?query=laptop&mediaType=&license=&source=&page=1
2025-04-02T09:52:46.359+01:00 DEBUG 26476 --- [openverse-media-search] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T09:52:46.366+01:00 DEBUG 26476 --- [openverse-media-search] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/media/search?query=laptop&mediaType=&license=&source=&page=1
2025-04-02T09:52:46.368+01:00  INFO 26476 --- [openverse-media-search] [http-nio-8080-exec-5] c.mediaapp.controller.MediaController    : Authenticated request by: faisal
2025-04-02T09:52:46.369+01:00 DEBUG 26476 --- [openverse-media-search] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T09:52:46.371+01:00  INFO 26476 --- [openverse-media-search] [http-nio-8080-exec-5] com.mediaapp.service.MediaService        : Calling Openverse: https://api.openverse.org/v1/images/?q=laptop&page=1
2025-04-02T09:52:46.425+01:00  INFO 26476 --- [openverse-media-search] [http-nio-8080-exec-5] com.mediaapp.service.MediaService        : Saving search history for user: faisal
2025-04-02T09:52:46.426+01:00 DEBUG 26476 --- [openverse-media-search] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    insert 
    into
        search_history
        (search_query, timestamp, user_id) 
    values
        (?, ?, ?)
2025-04-02T09:53:12.178+01:00 DEBUG 26476 --- [openverse-media-search] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2025-04-02T09:53:12.187+01:00 DEBUG 26476 --- [openverse-media-search] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-04-02T09:53:12.195+01:00 DEBUG 26476 --- [openverse-media-search] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T09:53:12.203+01:00 DEBUG 26476 --- [openverse-media-search] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-04-02T09:53:12.350+01:00 DEBUG 26476 --- [openverse-media-search] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T09:53:12.460+01:00 DEBUG 26476 --- [openverse-media-search] [http-nio-8080-exec-8] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-04-02T09:53:12.462+01:00 DEBUG 26476 --- [openverse-media-search] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T09:53:20.404+01:00 DEBUG 26476 --- [openverse-media-search] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/history/user/faisal
2025-04-02T09:53:20.408+01:00 DEBUG 26476 --- [openverse-media-search] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T09:53:20.417+01:00 DEBUG 26476 --- [openverse-media-search] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/history/user/faisal
2025-04-02T09:53:20.419+01:00  INFO 26476 --- [openverse-media-search] [http-nio-8080-exec-9] c.mediaapp.service.SearchHistoryService  : Fetching search history for username: faisal
2025-04-02T09:53:20.421+01:00 DEBUG 26476 --- [openverse-media-search] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T09:53:20.427+01:00 DEBUG 26476 --- [openverse-media-search] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        sh1_0.id,
        sh1_0.search_query,
        sh1_0.timestamp,
        sh1_0.user_id 
    from
        search_history sh1_0 
    left join
        users u1_0 
            on u1_0.id=sh1_0.user_id 
    where
        u1_0.id=?
2025-04-02T09:53:20.436+01:00 DEBUG 26476 --- [openverse-media-search] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2025-04-02T10:04:20.371+01:00  INFO 26476 --- [openverse-media-search] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-02T10:04:20.381+01:00  INFO 26476 --- [openverse-media-search] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-02T10:04:20.388+01:00  INFO 26476 --- [openverse-media-search] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-02T10:04:20.391+01:00  INFO 26476 --- [openverse-media-search] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-02T10:04:20.404+01:00  INFO 26476 --- [openverse-media-search] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-02T10:04:26.816+01:00  INFO 23972 --- [openverse-media-search] [main] com.mediaapp.MediaAppApplication         : Starting MediaAppApplication using Java 21.0.6 with PID 23972 (D:\MS\Software Engineering\openverse-media-search\target\classes started by MT in D:\MS\Software Engineering\openverse-media-search)
2025-04-02T10:04:26.819+01:00 DEBUG 23972 --- [openverse-media-search] [main] com.mediaapp.MediaAppApplication         : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-02T10:04:26.820+01:00  INFO 23972 --- [openverse-media-search] [main] com.mediaapp.MediaAppApplication         : No active profile set, falling back to 1 default profile: "default"
2025-04-02T10:04:28.025+01:00  INFO 23972 --- [openverse-media-search] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-02T10:04:28.088+01:00  INFO 23972 --- [openverse-media-search] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 53 ms. Found 2 JPA repository interfaces.
2025-04-02T10:04:28.908+01:00  INFO 23972 --- [openverse-media-search] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-02T10:04:28.922+01:00  INFO 23972 --- [openverse-media-search] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-02T10:04:28.922+01:00  INFO 23972 --- [openverse-media-search] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-02T10:04:29.007+01:00  INFO 23972 --- [openverse-media-search] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-02T10:04:29.008+01:00  INFO 23972 --- [openverse-media-search] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2122 ms
2025-04-02T10:04:29.333+01:00  INFO 23972 --- [openverse-media-search] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-02T10:04:29.386+01:00  INFO 23972 --- [openverse-media-search] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-02T10:04:29.427+01:00  INFO 23972 --- [openverse-media-search] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-02T10:04:29.728+01:00  INFO 23972 --- [openverse-media-search] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-02T10:04:29.758+01:00  INFO 23972 --- [openverse-media-search] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-02T10:04:30.005+01:00  INFO 23972 --- [openverse-media-search] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5b1f5fcc
2025-04-02T10:04:30.007+01:00  INFO 23972 --- [openverse-media-search] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-02T10:04:30.084+01:00  INFO 23972 --- [openverse-media-search] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-02T10:04:31.423+01:00  INFO 23972 --- [openverse-media-search] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-02T10:04:31.634+01:00  INFO 23972 --- [openverse-media-search] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-02T10:04:32.116+01:00 DEBUG 23972 --- [openverse-media-search] [main] com.mediaapp.security.JWTFilter          : Filter 'JWTFilter' configured for use
2025-04-02T10:04:32.633+01:00  INFO 23972 --- [openverse-media-search] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-04-02T10:04:33.059+01:00  INFO 23972 --- [openverse-media-search] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 16 endpoints beneath base path '/actuator'
2025-04-02T10:04:33.138+01:00 DEBUG 23972 --- [openverse-media-search] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JWTFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-04-02T10:04:33.647+01:00  INFO 23972 --- [openverse-media-search] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-04-02T10:04:33.661+01:00  INFO 23972 --- [openverse-media-search] [main] com.mediaapp.MediaAppApplication         : Started MediaAppApplication in 7.502 seconds (process running for 8.514)
2025-04-02T10:04:34.099+01:00  INFO 23972 --- [openverse-media-search] [RMI TCP Connection(1)-10.83.92.196] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-02T10:04:34.099+01:00 DEBUG 23972 --- [openverse-media-search] [RMI TCP Connection(2)-10.83.92.196] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-04-02T10:04:34.100+01:00  INFO 23972 --- [openverse-media-search] [RMI TCP Connection(1)-10.83.92.196] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-02T10:04:34.102+01:00  INFO 23972 --- [openverse-media-search] [RMI TCP Connection(1)-10.83.92.196] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-04-02T10:04:34.106+01:00 DEBUG 23972 --- [openverse-media-search] [RMI TCP Connection(2)-10.83.92.196] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-04-02T10:05:41.778+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-04-02T10:05:41.826+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-02T10:05:41.836+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-04-02T10:05:42.166+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:05:42.302+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-04-02T10:05:42.304+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:05:42.383+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/history/user/faisal
2025-04-02T10:05:42.385+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/history/user/faisal
2025-04-02T10:05:42.406+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/history/user/faisal
2025-04-02T10:05:42.429+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:05:42.435+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/history/user/faisal
2025-04-02T10:05:42.441+01:00  INFO 23972 --- [openverse-media-search] [http-nio-8080-exec-4] c.mediaapp.service.SearchHistoryService  : Fetching search history for username: faisal
2025-04-02T10:05:42.443+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:05:42.450+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        sh1_0.id,
        sh1_0.search_query,
        sh1_0.timestamp,
        sh1_0.user_id 
    from
        search_history sh1_0 
    left join
        users u1_0 
            on u1_0.id=sh1_0.user_id 
    where
        u1_0.id=?
2025-04-02T10:05:42.459+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2025-04-02T10:05:42.474+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/history/user/faisal
2025-04-02T10:05:42.480+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:05:42.490+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/history/user/faisal
2025-04-02T10:05:42.492+01:00  INFO 23972 --- [openverse-media-search] [http-nio-8080-exec-5] c.mediaapp.service.SearchHistoryService  : Fetching search history for username: faisal
2025-04-02T10:05:42.493+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:05:42.496+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        sh1_0.id,
        sh1_0.search_query,
        sh1_0.timestamp,
        sh1_0.user_id 
    from
        search_history sh1_0 
    left join
        users u1_0 
            on u1_0.id=sh1_0.user_id 
    where
        u1_0.id=?
2025-04-02T10:05:42.499+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2025-04-02T10:06:10.463+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/media/search?query=boy&mediaType=&license=&source=&page=1
2025-04-02T10:06:10.473+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/media/search?query=boy&mediaType=&license=&source=&page=1
2025-04-02T10:06:10.476+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:06:10.483+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/media/search?query=boy&mediaType=&license=&source=&page=1
2025-04-02T10:06:10.490+01:00  INFO 23972 --- [openverse-media-search] [http-nio-8080-exec-7] c.mediaapp.controller.MediaController    : Authenticated request by: faisal
2025-04-02T10:06:10.491+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:06:10.502+01:00  INFO 23972 --- [openverse-media-search] [http-nio-8080-exec-7] com.mediaapp.service.MediaService        : Calling Openverse: https://api.openverse.org/v1/images/?q=boy&page=1
2025-04-02T10:06:12.263+01:00  INFO 23972 --- [openverse-media-search] [http-nio-8080-exec-7] com.mediaapp.service.MediaService        : Saving search history for user: faisal
2025-04-02T10:06:12.299+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    insert 
    into
        search_history
        (search_query, timestamp, user_id) 
    values
        (?, ?, ?)
2025-04-02T10:06:15.990+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/history/user/faisal
2025-04-02T10:06:15.998+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:06:16.019+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/history/user/faisal
2025-04-02T10:06:16.021+01:00  INFO 23972 --- [openverse-media-search] [http-nio-8080-exec-8] c.mediaapp.service.SearchHistoryService  : Fetching search history for username: faisal
2025-04-02T10:06:16.024+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:06:16.027+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        sh1_0.id,
        sh1_0.search_query,
        sh1_0.timestamp,
        sh1_0.user_id 
    from
        search_history sh1_0 
    left join
        users u1_0 
            on u1_0.id=sh1_0.user_id 
    where
        u1_0.id=?
2025-04-02T10:06:16.030+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2025-04-02T10:06:16.036+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/history/user/faisal
2025-04-02T10:06:16.043+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:06:16.051+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/history/user/faisal
2025-04-02T10:06:16.052+01:00  INFO 23972 --- [openverse-media-search] [http-nio-8080-exec-9] c.mediaapp.service.SearchHistoryService  : Fetching search history for username: faisal
2025-04-02T10:06:16.054+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:06:16.057+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        sh1_0.id,
        sh1_0.search_query,
        sh1_0.timestamp,
        sh1_0.user_id 
    from
        search_history sh1_0 
    left join
        users u1_0 
            on u1_0.id=sh1_0.user_id 
    where
        u1_0.id=?
2025-04-02T10:06:16.058+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2025-04-02T10:13:14.739+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-04-02T10:13:14.743+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:13:14.753+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-04-02T10:13:14.759+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:13:14.853+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-04-02T10:13:14.853+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:13:14.891+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/history/user/faisal
2025-04-02T10:13:14.899+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:13:14.916+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/history/user/faisal
2025-04-02T10:13:14.918+01:00  INFO 23972 --- [openverse-media-search] [http-nio-8080-exec-4] c.mediaapp.service.SearchHistoryService  : Fetching search history for username: faisal
2025-04-02T10:13:14.921+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:13:14.926+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        sh1_0.id,
        sh1_0.search_query,
        sh1_0.timestamp,
        sh1_0.user_id 
    from
        search_history sh1_0 
    left join
        users u1_0 
            on u1_0.id=sh1_0.user_id 
    where
        u1_0.id=?
2025-04-02T10:13:14.928+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2025-04-02T10:13:14.936+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/history/user/faisal
2025-04-02T10:13:14.943+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:13:14.951+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/history/user/faisal
2025-04-02T10:13:14.951+01:00  INFO 23972 --- [openverse-media-search] [http-nio-8080-exec-5] c.mediaapp.service.SearchHistoryService  : Fetching search history for username: faisal
2025-04-02T10:13:14.955+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:13:14.961+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        sh1_0.id,
        sh1_0.search_query,
        sh1_0.timestamp,
        sh1_0.user_id 
    from
        search_history sh1_0 
    left join
        users u1_0 
            on u1_0.id=sh1_0.user_id 
    where
        u1_0.id=?
2025-04-02T10:13:14.963+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2025-04-02T10:13:21.975+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/history/delete/93
2025-04-02T10:13:21.980+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing DELETE /api/history/delete/93
2025-04-02T10:13:21.985+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:13:21.989+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured DELETE /api/history/delete/93
2025-04-02T10:13:21.991+01:00  INFO 23972 --- [openverse-media-search] [http-nio-8080-exec-7] c.mediaapp.service.SearchHistoryService  : Deleting search history with ID: 93
2025-04-02T10:13:21.996+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        sh1_0.id,
        sh1_0.search_query,
        sh1_0.timestamp,
        sh1_0.user_id,
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        search_history sh1_0 
    join
        users u1_0 
            on u1_0.id=sh1_0.user_id 
    where
        sh1_0.id=?
2025-04-02T10:13:22.006+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    delete 
    from
        search_history 
    where
        id=?
2025-04-02T10:13:31.895+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/media/search?query=girl&mediaType=&license=&source=&page=1
2025-04-02T10:13:31.900+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/media/search?query=girl&mediaType=&license=&source=&page=1
2025-04-02T10:13:31.904+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:13:31.910+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/media/search?query=girl&mediaType=&license=&source=&page=1
2025-04-02T10:13:31.912+01:00  INFO 23972 --- [openverse-media-search] [http-nio-8080-exec-9] c.mediaapp.controller.MediaController    : Authenticated request by: faisal
2025-04-02T10:13:31.913+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:13:31.915+01:00  INFO 23972 --- [openverse-media-search] [http-nio-8080-exec-9] com.mediaapp.service.MediaService        : Calling Openverse: https://api.openverse.org/v1/images/?q=girl&page=1
2025-04-02T10:13:32.799+01:00  INFO 23972 --- [openverse-media-search] [http-nio-8080-exec-9] com.mediaapp.service.MediaService        : Saving search history for user: faisal
2025-04-02T10:13:32.799+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    insert 
    into
        search_history
        (search_query, timestamp, user_id) 
    values
        (?, ?, ?)
2025-04-02T10:13:35.125+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/history/user/faisal
2025-04-02T10:13:35.132+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:13:35.144+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/history/user/faisal
2025-04-02T10:13:35.145+01:00  INFO 23972 --- [openverse-media-search] [http-nio-8080-exec-10] c.mediaapp.service.SearchHistoryService  : Fetching search history for username: faisal
2025-04-02T10:13:35.147+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:13:35.152+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        sh1_0.id,
        sh1_0.search_query,
        sh1_0.timestamp,
        sh1_0.user_id 
    from
        search_history sh1_0 
    left join
        users u1_0 
            on u1_0.id=sh1_0.user_id 
    where
        u1_0.id=?
2025-04-02T10:13:35.154+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2025-04-02T10:13:35.160+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/history/user/faisal
2025-04-02T10:13:35.167+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:13:35.172+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/history/user/faisal
2025-04-02T10:13:35.172+01:00  INFO 23972 --- [openverse-media-search] [http-nio-8080-exec-2] c.mediaapp.service.SearchHistoryService  : Fetching search history for username: faisal
2025-04-02T10:13:35.172+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:13:35.172+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sh1_0.id,
        sh1_0.search_query,
        sh1_0.timestamp,
        sh1_0.user_id 
    from
        search_history sh1_0 
    left join
        users u1_0 
            on u1_0.id=sh1_0.user_id 
    where
        u1_0.id=?
2025-04-02T10:13:35.172+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2025-04-02T10:14:07.351+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/history/delete/92
2025-04-02T10:14:07.357+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing DELETE /api/history/delete/92
2025-04-02T10:14:07.361+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:14:07.369+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured DELETE /api/history/delete/92
2025-04-02T10:14:07.371+01:00  INFO 23972 --- [openverse-media-search] [http-nio-8080-exec-3] c.mediaapp.service.SearchHistoryService  : Deleting search history with ID: 92
2025-04-02T10:14:07.372+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        sh1_0.id,
        sh1_0.search_query,
        sh1_0.timestamp,
        sh1_0.user_id,
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        search_history sh1_0 
    join
        users u1_0 
            on u1_0.id=sh1_0.user_id 
    where
        sh1_0.id=?
2025-04-02T10:14:07.374+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    delete 
    from
        search_history 
    where
        id=?
2025-04-02T10:14:22.058+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/media/search?query=boy&mediaType=&license=&source=&page=1
2025-04-02T10:14:22.061+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:14:22.066+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/media/search?query=boy&mediaType=&license=&source=&page=1
2025-04-02T10:14:22.067+01:00  INFO 23972 --- [openverse-media-search] [http-nio-8080-exec-4] c.mediaapp.controller.MediaController    : Authenticated request by: faisal
2025-04-02T10:14:22.069+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:14:22.070+01:00  INFO 23972 --- [openverse-media-search] [http-nio-8080-exec-4] com.mediaapp.service.MediaService        : Calling Openverse: https://api.openverse.org/v1/images/?q=boy&page=1
2025-04-02T10:14:22.118+01:00  INFO 23972 --- [openverse-media-search] [http-nio-8080-exec-4] com.mediaapp.service.MediaService        : Saving search history for user: faisal
2025-04-02T10:14:22.134+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    insert 
    into
        search_history
        (search_query, timestamp, user_id) 
    values
        (?, ?, ?)
2025-04-02T10:32:07.724+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/media/search?query=bag&page=1
2025-04-02T10:32:07.731+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/media/search?query=bag&page=1
2025-04-02T10:32:07.735+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:32:07.741+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/media/search?query=bag&page=1
2025-04-02T10:32:07.742+01:00  INFO 23972 --- [openverse-media-search] [http-nio-8080-exec-9] c.mediaapp.controller.MediaController    : Authenticated request by: faisal
2025-04-02T10:32:07.744+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:32:07.746+01:00  INFO 23972 --- [openverse-media-search] [http-nio-8080-exec-9] com.mediaapp.service.MediaService        : Calling Openverse: https://api.openverse.org/v1/images/?q=bag&page=1
2025-04-02T10:32:08.543+01:00  INFO 23972 --- [openverse-media-search] [http-nio-8080-exec-9] com.mediaapp.service.MediaService        : Saving search history for user: faisal
2025-04-02T10:32:08.544+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    insert 
    into
        search_history
        (search_query, timestamp, user_id) 
    values
        (?, ?, ?)
2025-04-02T10:32:31.718+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/media/search?query=bag&page=2
2025-04-02T10:32:31.723+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/media/search?query=bag&page=2
2025-04-02T10:32:31.727+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:32:31.732+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/media/search?query=bag&page=2
2025-04-02T10:32:31.733+01:00  INFO 23972 --- [openverse-media-search] [http-nio-8080-exec-2] c.mediaapp.controller.MediaController    : Authenticated request by: faisal
2025-04-02T10:32:31.735+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:32:31.736+01:00  INFO 23972 --- [openverse-media-search] [http-nio-8080-exec-2] com.mediaapp.service.MediaService        : Calling Openverse: https://api.openverse.org/v1/images/?q=bag&page=2
2025-04-02T10:32:32.571+01:00  INFO 23972 --- [openverse-media-search] [http-nio-8080-exec-2] com.mediaapp.service.MediaService        : Saving search history for user: faisal
2025-04-02T10:32:32.572+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        search_history
        (search_query, timestamp, user_id) 
    values
        (?, ?, ?)
2025-04-02T10:32:40.300+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/media/search?query=bag&page=3
2025-04-02T10:32:40.304+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/media/search?query=bag&page=3
2025-04-02T10:32:40.306+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:32:40.310+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/media/search?query=bag&page=3
2025-04-02T10:32:40.311+01:00  INFO 23972 --- [openverse-media-search] [http-nio-8080-exec-3] c.mediaapp.controller.MediaController    : Authenticated request by: faisal
2025-04-02T10:32:40.312+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:32:40.314+01:00  INFO 23972 --- [openverse-media-search] [http-nio-8080-exec-3] com.mediaapp.service.MediaService        : Calling Openverse: https://api.openverse.org/v1/images/?q=bag&page=3
2025-04-02T10:32:41.149+01:00  INFO 23972 --- [openverse-media-search] [http-nio-8080-exec-3] com.mediaapp.service.MediaService        : Saving search history for user: faisal
2025-04-02T10:32:41.150+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    insert 
    into
        search_history
        (search_query, timestamp, user_id) 
    values
        (?, ?, ?)
2025-04-02T10:33:03.950+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/history/user/faisal
2025-04-02T10:33:03.960+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:33:03.974+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/history/user/faisal
2025-04-02T10:33:03.976+01:00  INFO 23972 --- [openverse-media-search] [http-nio-8080-exec-4] c.mediaapp.service.SearchHistoryService  : Fetching search history for username: faisal
2025-04-02T10:33:03.978+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:33:03.983+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        sh1_0.id,
        sh1_0.search_query,
        sh1_0.timestamp,
        sh1_0.user_id 
    from
        search_history sh1_0 
    left join
        users u1_0 
            on u1_0.id=sh1_0.user_id 
    where
        u1_0.id=?
2025-04-02T10:33:03.985+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2025-04-02T10:33:03.992+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/history/user/faisal
2025-04-02T10:33:03.996+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:33:04.003+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/history/user/faisal
2025-04-02T10:33:04.004+01:00  INFO 23972 --- [openverse-media-search] [http-nio-8080-exec-5] c.mediaapp.service.SearchHistoryService  : Fetching search history for username: faisal
2025-04-02T10:33:04.006+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:33:04.010+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        sh1_0.id,
        sh1_0.search_query,
        sh1_0.timestamp,
        sh1_0.user_id 
    from
        search_history sh1_0 
    left join
        users u1_0 
            on u1_0.id=sh1_0.user_id 
    where
        u1_0.id=?
2025-04-02T10:33:04.012+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2025-04-02T10:33:30.345+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/history/delete/96
2025-04-02T10:33:30.349+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing DELETE /api/history/delete/96
2025-04-02T10:33:30.353+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:33:30.358+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured DELETE /api/history/delete/96
2025-04-02T10:33:30.358+01:00  INFO 23972 --- [openverse-media-search] [http-nio-8080-exec-7] c.mediaapp.service.SearchHistoryService  : Deleting search history with ID: 96
2025-04-02T10:33:30.359+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        sh1_0.id,
        sh1_0.search_query,
        sh1_0.timestamp,
        sh1_0.user_id,
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        search_history sh1_0 
    join
        users u1_0 
            on u1_0.id=sh1_0.user_id 
    where
        sh1_0.id=?
2025-04-02T10:33:30.361+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    delete 
    from
        search_history 
    where
        id=?
2025-04-02T10:40:01.263+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/media/search?query=book&mediaType=&license=&source=&page=1
2025-04-02T10:40:01.269+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/media/search?query=book&mediaType=&license=&source=&page=1
2025-04-02T10:40:01.274+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:40:01.283+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/media/search?query=book&mediaType=&license=&source=&page=1
2025-04-02T10:40:01.284+01:00  INFO 23972 --- [openverse-media-search] [http-nio-8080-exec-2] c.mediaapp.controller.MediaController    : Authenticated request by: faisal
2025-04-02T10:40:01.286+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:40:01.288+01:00  INFO 23972 --- [openverse-media-search] [http-nio-8080-exec-2] com.mediaapp.service.MediaService        : Calling Openverse: https://api.openverse.org/v1/images/?q=book&page=1
2025-04-02T10:40:02.360+01:00  INFO 23972 --- [openverse-media-search] [http-nio-8080-exec-2] com.mediaapp.service.MediaService        : Saving search history for user: faisal
2025-04-02T10:40:02.361+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        search_history
        (search_query, timestamp, user_id) 
    values
        (?, ?, ?)
2025-04-02T10:40:10.410+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/media/search?query=book&page=2
2025-04-02T10:40:10.415+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/media/search?query=book&page=2
2025-04-02T10:40:10.419+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:40:10.424+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/media/search?query=book&page=2
2025-04-02T10:40:10.425+01:00  INFO 23972 --- [openverse-media-search] [http-nio-8080-exec-3] c.mediaapp.controller.MediaController    : Authenticated request by: faisal
2025-04-02T10:40:10.426+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:40:10.428+01:00  INFO 23972 --- [openverse-media-search] [http-nio-8080-exec-3] com.mediaapp.service.MediaService        : Calling Openverse: https://api.openverse.org/v1/images/?q=book&page=2
2025-04-02T10:40:11.513+01:00  INFO 23972 --- [openverse-media-search] [http-nio-8080-exec-3] com.mediaapp.service.MediaService        : Saving search history for user: faisal
2025-04-02T10:40:11.514+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    insert 
    into
        search_history
        (search_query, timestamp, user_id) 
    values
        (?, ?, ?)
2025-04-02T10:40:19.385+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/media/search?query=book&page=3
2025-04-02T10:40:19.389+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/media/search?query=book&page=3
2025-04-02T10:40:19.392+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:40:19.396+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/media/search?query=book&page=3
2025-04-02T10:40:19.397+01:00  INFO 23972 --- [openverse-media-search] [http-nio-8080-exec-5] c.mediaapp.controller.MediaController    : Authenticated request by: faisal
2025-04-02T10:40:19.398+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:40:19.399+01:00  INFO 23972 --- [openverse-media-search] [http-nio-8080-exec-5] com.mediaapp.service.MediaService        : Calling Openverse: https://api.openverse.org/v1/images/?q=book&page=3
2025-04-02T10:40:19.837+01:00  INFO 23972 --- [openverse-media-search] [http-nio-8080-exec-5] com.mediaapp.service.MediaService        : Saving search history for user: faisal
2025-04-02T10:40:19.838+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    insert 
    into
        search_history
        (search_query, timestamp, user_id) 
    values
        (?, ?, ?)
2025-04-02T10:40:22.909+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/media/search?query=book&page=2
2025-04-02T10:40:22.913+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:40:22.917+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/media/search?query=book&page=2
2025-04-02T10:40:22.918+01:00  INFO 23972 --- [openverse-media-search] [http-nio-8080-exec-6] c.mediaapp.controller.MediaController    : Authenticated request by: faisal
2025-04-02T10:40:22.920+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:40:22.921+01:00  INFO 23972 --- [openverse-media-search] [http-nio-8080-exec-6] com.mediaapp.service.MediaService        : Calling Openverse: https://api.openverse.org/v1/images/?q=book&page=2
2025-04-02T10:40:22.956+01:00  INFO 23972 --- [openverse-media-search] [http-nio-8080-exec-6] com.mediaapp.service.MediaService        : Saving search history for user: faisal
2025-04-02T10:40:22.957+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    insert 
    into
        search_history
        (search_query, timestamp, user_id) 
    values
        (?, ?, ?)
2025-04-02T10:40:27.970+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/history/user/faisal
2025-04-02T10:40:27.975+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/history/user/faisal
2025-04-02T10:40:27.983+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/history/user/faisal
2025-04-02T10:40:27.993+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:40:28.001+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/history/user/faisal
2025-04-02T10:40:28.002+01:00  INFO 23972 --- [openverse-media-search] [http-nio-8080-exec-9] c.mediaapp.service.SearchHistoryService  : Fetching search history for username: faisal
2025-04-02T10:40:28.004+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:40:28.007+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        sh1_0.id,
        sh1_0.search_query,
        sh1_0.timestamp,
        sh1_0.user_id 
    from
        search_history sh1_0 
    left join
        users u1_0 
            on u1_0.id=sh1_0.user_id 
    where
        u1_0.id=?
2025-04-02T10:40:28.010+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2025-04-02T10:40:28.017+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/history/user/faisal
2025-04-02T10:40:28.023+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:40:28.029+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/history/user/faisal
2025-04-02T10:40:28.031+01:00  INFO 23972 --- [openverse-media-search] [http-nio-8080-exec-10] c.mediaapp.service.SearchHistoryService  : Fetching search history for username: faisal
2025-04-02T10:40:28.034+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:40:28.037+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        sh1_0.id,
        sh1_0.search_query,
        sh1_0.timestamp,
        sh1_0.user_id 
    from
        search_history sh1_0 
    left join
        users u1_0 
            on u1_0.id=sh1_0.user_id 
    where
        u1_0.id=?
2025-04-02T10:40:28.040+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2025-04-02T10:40:30.904+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/history/delete/100
2025-04-02T10:40:30.910+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing DELETE /api/history/delete/100
2025-04-02T10:40:30.914+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:40:30.919+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured DELETE /api/history/delete/100
2025-04-02T10:40:30.920+01:00  INFO 23972 --- [openverse-media-search] [http-nio-8080-exec-1] c.mediaapp.service.SearchHistoryService  : Deleting search history with ID: 100
2025-04-02T10:40:30.921+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        sh1_0.id,
        sh1_0.search_query,
        sh1_0.timestamp,
        sh1_0.user_id,
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        search_history sh1_0 
    join
        users u1_0 
            on u1_0.id=sh1_0.user_id 
    where
        sh1_0.id=?
2025-04-02T10:40:30.924+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    delete 
    from
        search_history 
    where
        id=?
2025-04-02T10:40:31.403+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/history/delete/101
2025-04-02T10:40:31.409+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing DELETE /api/history/delete/101
2025-04-02T10:40:31.414+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:40:31.418+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured DELETE /api/history/delete/101
2025-04-02T10:40:31.419+01:00  INFO 23972 --- [openverse-media-search] [http-nio-8080-exec-4] c.mediaapp.service.SearchHistoryService  : Deleting search history with ID: 101
2025-04-02T10:40:31.420+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        sh1_0.id,
        sh1_0.search_query,
        sh1_0.timestamp,
        sh1_0.user_id,
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        search_history sh1_0 
    join
        users u1_0 
            on u1_0.id=sh1_0.user_id 
    where
        sh1_0.id=?
2025-04-02T10:40:31.422+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    delete 
    from
        search_history 
    where
        id=?
2025-04-02T10:40:31.845+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/history/delete/102
2025-04-02T10:40:31.849+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing DELETE /api/history/delete/102
2025-04-02T10:40:31.853+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T10:40:31.869+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured DELETE /api/history/delete/102
2025-04-02T10:40:31.871+01:00  INFO 23972 --- [openverse-media-search] [http-nio-8080-exec-6] c.mediaapp.service.SearchHistoryService  : Deleting search history with ID: 102
2025-04-02T10:40:31.872+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        sh1_0.id,
        sh1_0.search_query,
        sh1_0.timestamp,
        sh1_0.user_id,
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        search_history sh1_0 
    join
        users u1_0 
            on u1_0.id=sh1_0.user_id 
    where
        sh1_0.id=?
2025-04-02T10:40:31.875+01:00 DEBUG 23972 --- [openverse-media-search] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    delete 
    from
        search_history 
    where
        id=?
2025-04-02T10:40:41.160+01:00  INFO 23972 --- [openverse-media-search] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-02T10:40:41.170+01:00  INFO 23972 --- [openverse-media-search] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-02T10:40:41.179+01:00  INFO 23972 --- [openverse-media-search] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-02T10:40:41.182+01:00  INFO 23972 --- [openverse-media-search] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-02T10:40:41.185+01:00  INFO 23972 --- [openverse-media-search] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-02T11:45:54.190+01:00  INFO 13372 --- [openverse-media-search] [main] com.mediaapp.MediaAppApplication         : Starting MediaAppApplication using Java 21.0.6 with PID 13372 (D:\MS\Software Engineering\openverse-media-search\target\classes started by MT in D:\MS\Software Engineering\openverse-media-search)
2025-04-02T11:45:54.194+01:00 DEBUG 13372 --- [openverse-media-search] [main] com.mediaapp.MediaAppApplication         : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-02T11:45:54.195+01:00  INFO 13372 --- [openverse-media-search] [main] com.mediaapp.MediaAppApplication         : No active profile set, falling back to 1 default profile: "default"
2025-04-02T11:45:55.514+01:00  INFO 13372 --- [openverse-media-search] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-02T11:45:55.595+01:00  INFO 13372 --- [openverse-media-search] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 70 ms. Found 2 JPA repository interfaces.
2025-04-02T11:45:56.724+01:00  INFO 13372 --- [openverse-media-search] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-02T11:45:56.741+01:00  INFO 13372 --- [openverse-media-search] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-02T11:45:56.742+01:00  INFO 13372 --- [openverse-media-search] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-02T11:45:56.837+01:00  INFO 13372 --- [openverse-media-search] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-02T11:45:56.838+01:00  INFO 13372 --- [openverse-media-search] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2577 ms
2025-04-02T11:45:57.257+01:00  INFO 13372 --- [openverse-media-search] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-02T11:45:57.366+01:00  INFO 13372 --- [openverse-media-search] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-02T11:45:57.427+01:00  INFO 13372 --- [openverse-media-search] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-02T11:45:57.891+01:00  INFO 13372 --- [openverse-media-search] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-02T11:45:57.936+01:00  INFO 13372 --- [openverse-media-search] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-02T11:45:58.238+01:00  INFO 13372 --- [openverse-media-search] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@573870cb
2025-04-02T11:45:58.240+01:00  INFO 13372 --- [openverse-media-search] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-02T11:45:58.329+01:00  INFO 13372 --- [openverse-media-search] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-02T11:45:59.697+01:00  INFO 13372 --- [openverse-media-search] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-02T11:45:59.874+01:00  INFO 13372 --- [openverse-media-search] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-02T11:46:00.331+01:00 DEBUG 13372 --- [openverse-media-search] [main] com.mediaapp.security.JWTFilter          : Filter 'JWTFilter' configured for use
2025-04-02T11:46:00.989+01:00  INFO 13372 --- [openverse-media-search] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-04-02T11:46:01.474+01:00  INFO 13372 --- [openverse-media-search] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 16 endpoints beneath base path '/actuator'
2025-04-02T11:46:01.556+01:00 DEBUG 13372 --- [openverse-media-search] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JWTFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-04-02T11:46:02.079+01:00  INFO 13372 --- [openverse-media-search] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-04-02T11:46:02.092+01:00  INFO 13372 --- [openverse-media-search] [main] com.mediaapp.MediaAppApplication         : Started MediaAppApplication in 8.677 seconds (process running for 9.93)
2025-04-02T11:46:02.633+01:00  INFO 13372 --- [openverse-media-search] [RMI TCP Connection(3)-10.83.92.196] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-02T11:46:02.633+01:00 DEBUG 13372 --- [openverse-media-search] [RMI TCP Connection(2)-10.83.92.196] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-04-02T11:46:02.633+01:00  INFO 13372 --- [openverse-media-search] [RMI TCP Connection(3)-10.83.92.196] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-02T11:46:02.635+01:00  INFO 13372 --- [openverse-media-search] [RMI TCP Connection(3)-10.83.92.196] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-04-02T11:46:02.639+01:00 DEBUG 13372 --- [openverse-media-search] [RMI TCP Connection(2)-10.83.92.196] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-04-02T11:46:44.016+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/media/search?query=pen&mediaType=&license=&source=&page=1
2025-04-02T11:46:44.058+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/media/search?query=pen&mediaType=&license=&source=&page=1
2025-04-02T11:46:44.248+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T11:46:44.292+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/media/search?query=pen&mediaType=&license=&source=&page=1
2025-04-02T11:46:44.317+01:00  INFO 13372 --- [openverse-media-search] [http-nio-8080-exec-3] c.mediaapp.controller.MediaController    : Authenticated request by: faisal
2025-04-02T11:46:44.319+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T11:46:44.327+01:00  INFO 13372 --- [openverse-media-search] [http-nio-8080-exec-3] com.mediaapp.service.MediaService        : Calling Openverse: https://api.openverse.org/v1/images/?q=pen&page=1
2025-04-02T11:46:45.797+01:00  INFO 13372 --- [openverse-media-search] [http-nio-8080-exec-3] com.mediaapp.service.MediaService        : Saving search history for user: faisal
2025-04-02T11:46:45.831+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    insert 
    into
        search_history
        (search_query, timestamp, user_id) 
    values
        (?, ?, ?)
2025-04-02T11:46:59.571+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/history/user/faisal
2025-04-02T11:46:59.572+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/history/user/faisal
2025-04-02T11:46:59.587+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/history/user/faisal
2025-04-02T11:46:59.597+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T11:46:59.613+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/history/user/faisal
2025-04-02T11:46:59.617+01:00  INFO 13372 --- [openverse-media-search] [http-nio-8080-exec-5] c.mediaapp.service.SearchHistoryService  : Fetching search history for username: faisal
2025-04-02T11:46:59.620+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T11:46:59.630+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        sh1_0.id,
        sh1_0.search_query,
        sh1_0.timestamp,
        sh1_0.user_id 
    from
        search_history sh1_0 
    left join
        users u1_0 
            on u1_0.id=sh1_0.user_id 
    where
        u1_0.id=?
2025-04-02T11:46:59.648+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2025-04-02T11:46:59.667+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/history/user/faisal
2025-04-02T11:46:59.674+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T11:46:59.697+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/history/user/faisal
2025-04-02T11:46:59.699+01:00  INFO 13372 --- [openverse-media-search] [http-nio-8080-exec-4] c.mediaapp.service.SearchHistoryService  : Fetching search history for username: faisal
2025-04-02T11:46:59.701+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T11:46:59.706+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        sh1_0.id,
        sh1_0.search_query,
        sh1_0.timestamp,
        sh1_0.user_id 
    from
        search_history sh1_0 
    left join
        users u1_0 
            on u1_0.id=sh1_0.user_id 
    where
        u1_0.id=?
2025-04-02T11:46:59.708+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2025-04-02T11:47:04.882+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/history/user/faisal
2025-04-02T11:47:04.892+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T11:47:04.904+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/history/user/faisal
2025-04-02T11:47:04.906+01:00  INFO 13372 --- [openverse-media-search] [http-nio-8080-exec-10] c.mediaapp.service.SearchHistoryService  : Fetching search history for username: faisal
2025-04-02T11:47:04.909+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T11:47:04.913+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        sh1_0.id,
        sh1_0.search_query,
        sh1_0.timestamp,
        sh1_0.user_id 
    from
        search_history sh1_0 
    left join
        users u1_0 
            on u1_0.id=sh1_0.user_id 
    where
        u1_0.id=?
2025-04-02T11:47:04.916+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2025-04-02T11:47:04.922+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/history/user/faisal
2025-04-02T11:47:04.931+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T11:47:04.940+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/history/user/faisal
2025-04-02T11:47:04.941+01:00  INFO 13372 --- [openverse-media-search] [http-nio-8080-exec-8] c.mediaapp.service.SearchHistoryService  : Fetching search history for username: faisal
2025-04-02T11:47:04.942+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T11:47:04.946+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        sh1_0.id,
        sh1_0.search_query,
        sh1_0.timestamp,
        sh1_0.user_id 
    from
        search_history sh1_0 
    left join
        users u1_0 
            on u1_0.id=sh1_0.user_id 
    where
        u1_0.id=?
2025-04-02T11:47:04.948+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2025-04-02T11:47:06.213+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/history/delete/103
2025-04-02T11:47:06.219+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing DELETE /api/history/delete/103
2025-04-02T11:47:06.223+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T11:47:06.228+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured DELETE /api/history/delete/103
2025-04-02T11:47:06.231+01:00  INFO 13372 --- [openverse-media-search] [http-nio-8080-exec-7] c.mediaapp.service.SearchHistoryService  : Deleting search history with ID: 103
2025-04-02T11:47:06.236+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        sh1_0.id,
        sh1_0.search_query,
        sh1_0.timestamp,
        sh1_0.user_id,
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        search_history sh1_0 
    join
        users u1_0 
            on u1_0.id=sh1_0.user_id 
    where
        sh1_0.id=?
2025-04-02T11:47:06.244+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    delete 
    from
        search_history 
    where
        id=?
2025-04-02T11:47:16.751+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/media/search?query=pen&mediaType=&license=&source=&page=1
2025-04-02T11:47:16.754+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T11:47:16.758+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/media/search?query=pen&mediaType=&license=&source=&page=1
2025-04-02T11:47:16.759+01:00  INFO 13372 --- [openverse-media-search] [http-nio-8080-exec-1] c.mediaapp.controller.MediaController    : Authenticated request by: faisal
2025-04-02T11:47:16.761+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T11:47:16.761+01:00  INFO 13372 --- [openverse-media-search] [http-nio-8080-exec-1] com.mediaapp.service.MediaService        : Calling Openverse: https://api.openverse.org/v1/images/?q=pen&page=1
2025-04-02T11:47:16.811+01:00  INFO 13372 --- [openverse-media-search] [http-nio-8080-exec-1] com.mediaapp.service.MediaService        : Saving search history for user: faisal
2025-04-02T11:47:16.812+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    insert 
    into
        search_history
        (search_query, timestamp, user_id) 
    values
        (?, ?, ?)
2025-04-02T11:47:20.268+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/media/search?query=pen&page=2
2025-04-02T11:47:20.273+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/media/search?query=pen&page=2
2025-04-02T11:47:20.276+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T11:47:20.281+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/media/search?query=pen&page=2
2025-04-02T11:47:20.282+01:00  INFO 13372 --- [openverse-media-search] [http-nio-8080-exec-2] c.mediaapp.controller.MediaController    : Authenticated request by: faisal
2025-04-02T11:47:20.283+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T11:47:20.285+01:00  INFO 13372 --- [openverse-media-search] [http-nio-8080-exec-2] com.mediaapp.service.MediaService        : Calling Openverse: https://api.openverse.org/v1/images/?q=pen&page=2
2025-04-02T11:47:27.521+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/history/user/faisal
2025-04-02T11:47:27.526+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T11:47:27.539+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/history/user/faisal
2025-04-02T11:47:27.541+01:00  INFO 13372 --- [openverse-media-search] [http-nio-8080-exec-6] c.mediaapp.service.SearchHistoryService  : Fetching search history for username: faisal
2025-04-02T11:47:27.546+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T11:47:27.551+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        sh1_0.id,
        sh1_0.search_query,
        sh1_0.timestamp,
        sh1_0.user_id 
    from
        search_history sh1_0 
    left join
        users u1_0 
            on u1_0.id=sh1_0.user_id 
    where
        u1_0.id=?
2025-04-02T11:47:27.553+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2025-04-02T11:47:27.560+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/history/user/faisal
2025-04-02T11:47:27.565+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T11:47:27.574+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/history/user/faisal
2025-04-02T11:47:27.575+01:00  INFO 13372 --- [openverse-media-search] [http-nio-8080-exec-5] c.mediaapp.service.SearchHistoryService  : Fetching search history for username: faisal
2025-04-02T11:47:27.577+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T11:47:27.580+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        sh1_0.id,
        sh1_0.search_query,
        sh1_0.timestamp,
        sh1_0.user_id 
    from
        search_history sh1_0 
    left join
        users u1_0 
            on u1_0.id=sh1_0.user_id 
    where
        u1_0.id=?
2025-04-02T11:47:27.582+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2025-04-02T11:50:57.044+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/register
2025-04-02T11:50:57.060+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/register
2025-04-02T11:50:57.073+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T11:50:57.085+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/register
2025-04-02T11:50:57.132+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T11:51:07.185+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2025-04-02T11:51:07.200+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-04-02T11:51:07.202+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-02T11:51:07.202+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-04-02T11:51:07.299+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T11:51:07.399+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-04-02T11:51:07.399+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T11:51:07.448+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/history/user/faisal
2025-04-02T11:51:07.456+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T11:51:07.464+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/history/user/faisal
2025-04-02T11:51:07.464+01:00  INFO 13372 --- [openverse-media-search] [http-nio-8080-exec-2] c.mediaapp.service.SearchHistoryService  : Fetching search history for username: faisal
2025-04-02T11:51:07.473+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T11:51:07.473+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sh1_0.id,
        sh1_0.search_query,
        sh1_0.timestamp,
        sh1_0.user_id 
    from
        search_history sh1_0 
    left join
        users u1_0 
            on u1_0.id=sh1_0.user_id 
    where
        u1_0.id=?
2025-04-02T11:51:07.473+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2025-04-02T11:51:07.482+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/history/user/faisal
2025-04-02T11:51:07.486+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T11:51:07.489+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/history/user/faisal
2025-04-02T11:51:07.489+01:00  INFO 13372 --- [openverse-media-search] [http-nio-8080-exec-6] c.mediaapp.service.SearchHistoryService  : Fetching search history for username: faisal
2025-04-02T11:51:07.489+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-02T11:51:07.489+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        sh1_0.id,
        sh1_0.search_query,
        sh1_0.timestamp,
        sh1_0.user_id 
    from
        search_history sh1_0 
    left join
        users u1_0 
            on u1_0.id=sh1_0.user_id 
    where
        u1_0.id=?
2025-04-02T11:51:07.498+01:00 DEBUG 13372 --- [openverse-media-search] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2025-04-02T12:19:01.389+01:00  WARN 13372 --- [openverse-media-search] [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=22m2s826ms793Âµs900ns).
2025-04-02T13:14:43.713+01:00  WARN 13372 --- [openverse-media-search] [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=55m42s323ms412Âµs).
2025-04-02T13:59:57.653+01:00  WARN 13372 --- [openverse-media-search] [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=43m13s896ms583Âµs200ns).
2025-04-02T14:03:02.418+01:00  INFO 13372 --- [openverse-media-search] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-02T14:03:02.427+01:00  INFO 13372 --- [openverse-media-search] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-02T14:03:02.434+01:00  INFO 13372 --- [openverse-media-search] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-02T14:03:02.437+01:00  INFO 13372 --- [openverse-media-search] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-02T14:03:02.441+01:00  INFO 13372 --- [openverse-media-search] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
